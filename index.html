<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chronos Dev Shell</title>
<style>
  body {
    background-color: black;
    color: #00FF00;
    font-family: 'Courier New', Courier, monospace;
    margin: 0;
    padding: 10px;
    overflow: hidden;
  }
  #terminal {
    max-width: 900px;
    height: 95vh;
    margin: 0 auto;
    background: black;
    border: 2px solid #00ff00;
    padding: 10px;
    overflow-y: auto;
    white-space: pre-wrap;
    font-size: 16px;
    line-height: 1.3;
    outline: none;
  }
  .line {
    display: block;
    margin-bottom: 2px;
  }
  .prompt {
    color: #00ff00;
    user-select: none;
  }
  #inputLine {
    display: inline;
  }
  #cursor {
    display: inline-block;
    width: 9px;
    height: 18px;
    background: #00ff00;
    margin-left: 2px;
    animation: blink 1s steps(2, start) infinite;
    vertical-align: bottom;
  }
  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
</style>
</head>
<body>
  <div id="terminal" tabindex="0" aria-label="Terminal window" role="textbox" aria-multiline="true" spellcheck="false">
    <div class="line"><span class="prompt">Chronos_>&nbsp;</span><span id="inputLine"></span><span id="cursor"></span></div>
  </div>

<script>
  const terminal = document.getElementById('terminal');
  const inputLine = document.getElementById('inputLine');
  const cursor = document.getElementById('cursor');

  // Code snippets to simulate typing
  const codeSnippets = [
    `#include <stdio.h>\nint main() {\n  printf("Hacking started...");\n  return 0;\n}\n// Connecting to server...\nSocket opened.\n`,
    `function hack() {\n  for(let i=0; i<1000000; i++) {\n    let code = "ACCESS GRANTED";\n  }\n}\nhack();\n// Accessing database...\n`,
    `sudo apt-get install hackertools\nDownloading exploits...\nExploit launched.\nRoot access obtained.\n`,
    `var access = false;\ntry {\n  access = true;\n} catch(e) {\n  access = false;\n}\nconsole.log("Access level:", access);\n`,
    `SELECT * FROM users WHERE password = '123456';\nDROP TABLE secure;\n-- Executing SQL Injection...\nSuccess.\n`
  ];

  let snippetIndex = 0;
  let charIndex = 0;
  let normalTyping = true;
  const charsPerKey = 10; // normal speed multiplier
  let fastAutoTyping = false;
  let autoTypingInterval = null;

  // Command buffer for user input
  let commandBuffer = '';

  // Focus the terminal to capture keystrokes
  terminal.focus();

  // Scroll terminal to bottom helper
  function scrollBottom() {
    terminal.scrollTop = terminal.scrollHeight;
  }

  // Append a new line with prompt and optional text
  function appendLine(text = '') {
    const line = document.createElement('div');
    line.className = 'line';
    line.innerHTML = `<span class="prompt">Chronos_>&nbsp;</span>${text}`;
    terminal.appendChild(line);
    scrollBottom();
  }

  // Type text characters at given speed into terminal lines (called during auto spam)
  function typeTextFast(text, callback) {
    let i = 0;
    const interval = setInterval(() => {
      if (i < text.length) {
        appendLine(text.substring(0, i+1));
        i++;
      } else {
        clearInterval(interval);
        if(callback) callback();
      }
    }, 10); // 10 ms per character (very fast)
  }

  // Function to spam thousands of lines fast
  function startAutoSpam() {
    let linesTyped = 0;
    fastAutoTyping = true;
    autoTypingInterval = setInterval(() => {
      const snippet = codeSnippets[snippetIndex];
      appendLine(snippet.substring(0, 60 + Math.floor(Math.random()*60))); // random length snippet
      snippetIndex = (snippetIndex + 1) % codeSnippets.length;
      linesTyped++;
      if (linesTyped > 1000) {
        // Stop after 1000 lines
        clearInterval(autoTypingInterval);
        fastAutoTyping = false;
        appendLine("Auto spam finished. Press any key.");
      }
      scrollBottom();
    }, 10); // 10 ms per line - super fast
  }

  // Simulate install command output
  function simulateInstall() {
    appendLine("Installing hackertyper as Chronos file...");
    setTimeout(() => appendLine("Creating Chronos directory..."), 1000);
    setTimeout(() => appendLine("Downloading hackertyper package..."), 2000);
    setTimeout(() => appendLine("Extracting files..."), 3000);
    setTimeout(() => appendLine("Installation complete! You can now run 'hackertyper'."), 4000);
  }

  // Handle user typing normal text before enter
  function handleNormalTyping(key) {
    if (key === 'Backspace') {
      commandBuffer = commandBuffer.slice(0, -1);
      inputLine.textContent = commandBuffer;
    } else if (key.length === 1) {
      commandBuffer += key;
      inputLine.textContent = commandBuffer;
    }
  }

  // Execute command on Enter pressed
  function handleCommand(command) {
    appendLine(`<span class="userCommand">${command}</span>`);
    commandBuffer = '';
    inputLine.textContent = '';

    if (command.toLowerCase() === 'start') {
      startAutoSpam();
    } else if (command.toLowerCase() === 'install') {
      simulateInstall();
    } else {
      appendLine("Command not found: " + command);
    }
  }

  // On keydown events
  terminal.addEventListener('keydown', (e) => {
    e.preventDefault();

    if (fastAutoTyping) {
      // If auto spam running, ignore typing
      return;
    }

    if (e.key === 'Enter') {
      handleCommand(commandBuffer.trim());
    } else {
      handleNormalTyping(e.key);
    }

    scrollBottom();
  });

</script>
</body>
</html>
